<!DOCTYPE html>
<html lang="es" id="html-theme">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="copyright" content="KOOWEXA - 2025">
  <meta name="author" content="KOOWEXA">
  <title>KOOWEXA - OFICIAL</title>
  <meta name="description" content="Creamos espacios donde tus ideas cobran vida."/>
  <link rel="canonical" href="https://koowexa.github.io/oficial/"/>
  <link rel="icon" type="image/png" href="logo.png" sizes="32x32"/>
  <link rel="apple-touch-icon" href="logo.png"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --bg-primary: #000;
      --bg-secondary: #111;
      --text: #fff;
      --text-secondary: #ccc;
      --border: #444;
      --cta-bg: #fff;
      --cta-text: #000;
      --shadow: rgba(255,255,255,.1);
      --shadow-hover: rgba(255,255,255,.2);
      --card-bg: #111;
    }
    [data-theme="light"] {
      --bg-primary: #f5f5f5;
      --bg-secondary: #fff;
      --text: #000;
      --text-secondary: #555;
      --border: #ddd;
      --cta-bg: #000;
      --cta-text: #fff;
      --shadow: rgba(0,0,0,.1);
      --shadow-hover: rgba(0,0,0,.15);
      --card-bg: #fafafa;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-primary);
      color: var(--text);
      line-height: 1.6;
      transition: background .4s ease, color .4s ease;
      overflow-x: hidden;
    }
    html {
      scroll-behavior: smooth;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 20px;
    }
    header {
      background: var(--bg-primary);
      box-shadow: 0 2px 15px var(--shadow);
      padding: 16px 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      font-weight: 600;
      color: var(--text);
    }
    .logo img {
      height: 40px;
      border-radius: 8px;
      border: 1px solid var(--border);
    }
    .theme-toggle {
      background: none;
      border: 1px solid var(--border);
      color: var(--text);
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: .9rem;
      transition: all .3s ease;
    }
    .theme-toggle:hover {
      background: var(--text-secondary);
      color: var(--bg-primary);
    }
    .share-container {
      text-align: center;
      padding: 12px 0;
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border);
    }
    .share-button {
      background: #25D366;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      font-size: .95rem;
      transition: all .3s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,.2);
    }
    .share-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 14px rgba(0,0,0,.3);
    }
    .hero {
      padding: 80px 0 60px;
      text-align: center;
    }
    .hero-content {
      max-width: 700px;
      margin: 0 auto;
    }
    .hero-img-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-bottom: 24px;
    }
    .hero img {
      width: 100%;
      max-width: 450px;
      height: auto;
      margin: 0 auto;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.5);
      border: 1px solid var(--border);
    }
    .hero h1 {
      font-size: 2.4rem;
      margin-bottom: 16px;
      color: var(--text);
    }
    .hero p {
      font-size: 1.1rem;
      color: var(--text-secondary);
      margin-bottom: 24px;
    }
    .cta-button {
      background: var(--cta-bg);
      color: var(--cta-text);
      padding: 14px 28px;
      border-radius: 8px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: all .3s ease;
      box-shadow: 0 4px 12px var(--shadow);
    }
    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 18px var(--shadow-hover);
    }
    .service {
      padding: 60px 0;
    }
    .section-title {
      color: var(--text);
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 20px;
      font-weight: 600;
    }
    .section-subtitle {
      text-align: center;
      max-width: 700px;
      margin: 0 auto 30px;
      color: var(--text-secondary);
      font-size: 1.05rem;
    }
    .service-features {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      max-width: 900px;
      margin: 0 auto;
    }
    .feature-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      width: 100%;
      max-width: 260px;
      box-shadow: 0 6px 16px rgba(0,0,0,.3);
      text-align: center;
      transition: all .3s ease;
    }
    .feature-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 24px rgba(0,0,0,.4);
      border-color: var(--text);
    }
    .feature-card h3 {
      margin: 16px 0 10px;
      font-size: 1.3rem;
      color: var(--text);
    }
    .feature-card p {
      color: var(--text-secondary);
      font-size: .95rem;
      line-height: 1.5;
    }
    .discount-badge {
      background: linear-gradient(45deg, #ff4081, #e91e63);
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: .9rem;
      font-weight: 600;
      display: inline-block;
      margin: 10px 0;
      box-shadow: 0 2px 8px rgba(255,64,129,.3);
    }
    .price-original {
      text-decoration: line-through;
      color: #888;
      font-size: 1.3rem;
      margin-bottom: 8px;
    }
    .price-final {
      font-size: 2.2rem;
      font-weight: 700;
      color: #0f9d58;
    }
    .footer-social {
      display: flex;
      justify-content: center;
      gap: 18px;
      margin: 16px 0;
    }
    .footer-social a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--cta-bg);
      color: var(--cta-text);
      font-size: 1.4rem;
      transition: all .3s ease;
      text-decoration: none;
      box-shadow: 0 4px 10px var(--shadow);
    }
    .footer-social a:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 14px var(--shadow-hover);
    }
    .btn-wa { background: #25D366; }
    .btn-tg { background: #0088cc; }
    .btn-yt { background: #FF0000; }
    .btn-x { background: #000; }
    footer {
      color: #777;
      text-align: center;
      padding: 30px 0;
      background: var(--bg-primary);
      font-size: .9rem;
      border-top: 1px solid var(--border);
    }
    footer p {
      margin-bottom: 8px;
    }
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,.85);
      backdrop-filter: blur(8px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 20px;
      animation: fadeIn .3s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(.9); }
      to { opacity: 1; transform: scale(1); }
    }
    .modal {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      padding: 20px;
      border-radius: 16px;
      width: 95%;
      max-width: 500px;
      box-shadow: 0 20px 50px rgba(0,0,0,.6);
      position: relative;
      color: var(--text);
      transition: all .4s ease;
    }
    .modal.fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      border-radius: 0;
      max-width: none;
    }
    .modal h2 {
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.6rem;
    }
    .form-group {
      margin-bottom: 12px;
    }
    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      color: var(--text);
      font-size: .95rem;
    }
    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px;
      border: 2px solid var(--border);
      background: var(--bg-primary);
      color: var(--text);
      border-radius: 10px;
      font-family: 'Inter', sans-serif;
      font-size: .95rem;
      transition: all .3s ease;
    }
    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--cta-bg);
      box-shadow: 0 0 0 3px var(--shadow-hover);
    }
    .form-group.valid input,
    .form-group.valid select { border-color: #0f9d58; }
    .form-group.error input,
    .form-group.error select { border-color: #e74c3c; }
    .form-group small {
      display: block;
      margin-top: 4px;
      font-size: .8rem;
      color: var(--text-secondary);
    }
    .form-actions {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 10px;
    }
    .btn {
      padding: 14px 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1rem;
      transition: all .3s ease;
      width: 100%;
    }
    .btn-cancel { background: #333; color: #ccc; }
    .btn-cancel:hover { background: #444; }
    .btn-fullscreen { background: #444; color: #fff; }
    .btn-fullscreen:hover { background: #555; }
    .btn-submit { background: var(--cta-bg); color: var(--cta-text); }
    .btn-submit:hover {
      transform: scale(1.02);
      box-shadow: 0 4px 12px var(--shadow-hover);
    }
    .btn-submit:disabled {
      opacity: .6;
      cursor: not-allowed;
      transform: none;
    }
    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 1.6rem;
      color: var(--text-secondary);
      cursor: pointer;
      background: none;
      border: none;
      transition: color .3s ease;
    }
    .close-modal:hover { color: var(--text); }
    #toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: white;
      padding: 14px 24px;
      border-radius: 10px;
      font-size: .95rem;
      z-index: 9999;
      box-shadow: 0 4px 15px rgba(0,0,0,.35);
      animation: slideUp .5s ease-out forwards;
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translate(-50%, 20px); }
      to { opacity: 1; transform: translate(-50%, 0); }
    }
    .chatbot-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #25D366;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      box-shadow: 0 4px 15px rgba(0,0,0,.3);
      cursor: pointer;
      z-index: 999;
      transition: all .3s ease;
    }
    .chatbot-btn:hover { transform: scale(1.1); }
    .chatbot-container {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 320px;
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0,0,0,.4);
      padding: 20px;
      display: none;
      flex-direction: column;
      z-index: 998;
      max-height: 80vh;
      overflow: hidden;
    }
    .chatbot-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border);
    }
    .chatbot-header h3 { margin: 0; font-size: 1.1rem; }
    .chatbot-close { background: none; border: none; color: var(--text-secondary); font-size: 1.2rem; cursor: pointer; }
    .chatbot-messages {
      flex: 1;
      overflow-y: auto;
      padding: 0 0 15px;
      max-height: 200px;
    }
    .chatbot-message {
      margin-bottom: 12px;
      padding: 10px 14px;
      border-radius: 12px;
      font-size: .9rem;
    }
    .chatbot-message.user { background: var(--cta-bg); color: var(--cta-text); align-self: flex-end; }
    .chatbot-message.bot { background: var(--card-bg); color: var(--text); }
    .chatbot-questions {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 15px;
    }
    .chatbot-question {
      background: var(--border);
      color: var(--text);
      border: none;
      padding: 10px 12px;
      border-radius: 8px;
      text-align: left;
      font-size: .9rem;
      cursor: pointer;
      transition: all .2s ease;
    }
    .chatbot-question:hover {
      background: var(--text-secondary);
      transform: translateX(4px);
    }
    @media (max-width: 600px) {
      .hero { padding: 60px 0 40px; }
      .hero h1 { font-size: 2rem; }
      .hero p { font-size: 1rem; }
      .section-title { font-size: 1.6rem; }
      .cta-button { padding: 12px 20px; font-size: .95rem; }
      .modal { padding: 20px; }
      .feature-card { padding: 20px; }
      .hero-img-container { gap: 16px; }
      .hero img, .price + img { max-width: 100%; height: auto; }
    }
  </style>
</head>
<body id="body-theme">
  <header>
    <div class="container header-content">
      <a href="#" class="logo" aria-label="Inicio">
        <img src="logo.png" alt="logo" />
      </a>
      <button id="themeToggle" class="theme-toggle">Claro</button>
    </div>
  </header>

  <div class="share-container">
    <button id="shareButton" class="share-button">Compartir el servicio</button>
  </div>

  <section class="hero">
    <div class="container hero-content">
      <div class="hero-img-container">
        <img src="banner.png" alt="banner" loading="lazy" />
      </div>
      <p>Sabemos lo que es empezar de cero. Las dudas, los recursos ajustados, la inseguridad de no saber por dónde comenzar. Pero también sabemos lo poderoso que es dar ese primer paso con el apoyo correcto.</p>
      <p>Por eso, no vendemos páginas web. Creamos espacios donde tus ideas cobran vida. Donde tu talento deja de ser invisible.</p>
      <p>Un lugar en internet que es realmente tuyo, hecho a tu medida, sin complicaciones ni costos que no puedes permitirte.</p>
      <button class="cta-button openModal">Solicitar Ya</button>
    </div>
  </section>

  <main class="service">
    <div class="container">
      <h2 class="section-title">¿Quieres vender con confianza?</h2>
      <p class="section-subtitle">¿Ofrecer tu servicio con orgullo, sin depender de terceros? Con una plataforma propia, <strong>sí puedes</strong>. Y no necesitas ser un experto, ni tener un presupuesto enorme. Solo necesitas empezar.</p>
      
      <div class="service-features">
        <div class="feature-card">
          <h3>Sencillo</h3>
          <p>Fácil de usar, sin necesidad de experiencia técnica.</p>
        </div>
        <div class="feature-card">
          <h3>Rápido</h3>
          <p>Optimizado para conexiones lentas. Ideal para Cuba.</p>
        </div>
        <div class="feature-card">
          <h3>Hospedaje</h3>
          <p>Servidor incluido durante 3 meses. Sin complicaciones.</p>
        </div>
        <div class="feature-card">
          <h3>Variedad</h3>
          <p>Puedes elegir entre: tienda, servicios.</p>
        </div>
      </div>

      <div style="text-align:center;margin-top:30px;" id="priceSection">
        <div class="discount-badge">🔥 10% de DESCUENTO por tiempo limitado</div>
        <div class="price-original">$2000 CUP</div>
        <div class="price-final">$1800 CUP</div>
        <small style="color:#aaa;display:block;margin-bottom:16px;">
          ✅ Incluye 3 meses de hospedaje + subdominio, solo para primerizos.
        </small>
        <img src="banner.gif" alt="Ejemplo de sitio web KOOWEXA" loading="lazy" style="max-width:100%;height:auto;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.5);border:1px solid var(--border);" />
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p><strong>Tu marca. Tu voz. Tu momento.</strong></p>
      <div class="footer-social">
        <a href="https://youtube.com/@koowexa" target="_blank" class="btn-yt">YT</a>
        <a href="https://x.com/koowexa" target="_blank" class="btn-x">X</a>
        <a href="https://whatsapp.com/channel/0029VbB6FJk5q08fW25JNN3w" target="_blank" class="btn-wa">WA</a>
        <a href="https://t.me/KOOWEXA" target="_blank" class="btn-tg">TG</a>
      </div>
      <p style="font-size:.85rem;color:#aaa;">
        &copy; 2025 KOOWEXA.<br>
        Conectamos tu negocio con el mundo.
      </p>
    </div>
  </footer>

  <!-- Modal de Solicitud -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal" id="modalElement">
      <button class="close-modal" id="closeModal">&times;</button>
      <h2>Solicita tu Web</h2>
      <form id="serviceForm">
        <div class="form-group" id="nameGroup">
          <label for="name">Nombre Completo</label>
          <input type="text" id="name" name="name" required />
          <small id="nameHelp"></small>
        </div>
        <div class="form-group" id="phoneGroup">
          <label for="phone">Teléfono (WhatsApp)</label>
          <input type="tel" id="phone" name="phone" required inputmode="numeric" maxlength="8" />
          <small id="phoneHelp"></small>
        </div>
        <div class="form-group" id="emailGroup">
          <label for="email">Correo Gmail</label>
          <input type="email" id="email" name="email" required />
          <small id="emailHelp"></small>
        </div>
        <div class="form-group" id="addressGroup">
          <label for="address">Dirección (Ciudad, Provincia)</label>
          <input type="text" id="address" name="address" required />
          <small id="addressHelp"></small>
        </div>
        <div class="form-group" id="typeGroup">
          <label for="type">Tipo de sitio web</label>
          <select id="type" name="type" required>
            <option value="">Selecciona una opción</option>
            <option value="tienda">Tienda Online</option>
            <option value="servicio">Servicio por Cuenta Propia</option>
          </select>
          <small id="typeHelp"></small>
        </div>
        <div class="form-group" id="methodGroup">
          <label for="method">¿Cómo deseas enviar tu solicitud?</label>
          <select id="method" name="method" required>
            <option value="">Selecciona una opción</option>
            <option value="whatsapp">WhatsApp</option>
            <option value="email">Gmail</option>
          </select>
          <small id="methodHelp"></small>
        </div>
        <div class="form-actions">
          <button type="button" class="btn btn-cancel" id="cancelForm">Cancelar</button>
          <button type="button" class="btn btn-fullscreen" id="toggleFullscreen">Pantalla Completa</button>
          <button type="submit" class="btn btn-submit" id="submitBtn">Enviar Solicitud</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Chatbot -->
  <button class="chatbot-btn" id="chatbotBtn">💬</button>
  <div class="chatbot-container" id="chatbotContainer">
    <div class="chatbot-header">
      <h3>Asistente KOOWEXA 🤖</h3>
      <button class="chatbot-close" id="chatbotClose">×</button>
    </div>
    <div class="chatbot-messages" id="chatbotMessages">
      <div class="chatbot-message bot">¡Hola! ¿En qué puedo ayudarte?</div>
    </div>
    <div class="chatbot-questions">
      <button class="chatbot-question" data-q="precio">¿Cuál es el precio?</button>
      <button class="chatbot-question" data-q="entrega">¿Cuánto tiempo tardan?</button>
      <button class="chatbot-question" data-q="funciones">¿Qué incluye?</button>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    // Cambio de tema (Oscuro/Claro)
    const html = document.getElementById('html-theme');
    const themeToggle = document.getElementById('themeToggle');
    const savedTheme = localStorage.getItem('koowexa-theme') || 'dark';

    function setTheme(theme) {
      if (theme === 'light') {
        html.setAttribute('data-theme', 'light');
        themeToggle.textContent = '☀️ Oscuro';
      } else {
        html.removeAttribute('data-theme');
        themeToggle.textContent = '🌙 Claro';
      }
      localStorage.setItem('koowexa-theme', theme);
    }
    setTheme(savedTheme);

    themeToggle.addEventListener('click', () => {
      const current = localStorage.getItem('koowexa-theme');
      setTheme(current === 'light' ? 'dark' : 'light');
    });

    // Modal
    const modal = document.getElementById('modalOverlay');
    const modalElement = document.getElementById('modalElement');
    const openButtons = document.querySelectorAll('.openModal');
    const closeButtons = document.querySelectorAll('#closeModal, #cancelForm');
    const priceSection = document.getElementById('priceSection');
    const hasVisited = localStorage.getItem('koowexa-visited');

    if (!hasVisited) {
      localStorage.setItem('koowexa-visited', 'true');
    } else {
      const badge = priceSection.querySelector('.discount-badge');
      if (badge) badge.remove();
      const original = priceSection.querySelector('.price-original');
      if (original) original.remove();
      priceSection.querySelector('.price-final').textContent = '$2000 CUP';
    }

    const openModal = () => { modal.style.display = 'flex'; };
    const closeModal = () => { modal.style.display = 'none'; };

    openButtons.forEach(btn => btn.addEventListener('click', openModal));
    closeButtons.forEach(btn => btn.addEventListener('click', closeModal));
    modal.addEventListener('click', e => { if (e.target === modal) closeModal(); });

    // Compartir
    const shareButton = document.getElementById('shareButton');
    const shareData = {
      title: 'KOOWEXA',
      text: 'Consigue tu página web económica y profesional.',
      url: 'https://koowexa.github.io/oficial/'
    };

    if (navigator.share && navigator.canShare?.(shareData)) {
      shareButton.addEventListener('click', async () => {
        try { await navigator.share(shareData); } 
        catch (err) { if (err.name !== 'AbortError') fallbackShare(); }
      });
    } else {
      shareButton.addEventListener('click', fallbackShare);
    }

    function fallbackShare() {
      const message = encodeURIComponent(`¡Mira este servicio! ${shareData.text} ${shareData.url}`);
      window.open(`https://wa.me/?text=${message}`, '_blank');
    }

    // Validación del formulario
    const form = document.getElementById('serviceForm');
    const nameInput = document.getElementById('name');
    const phoneInput = document.getElementById('phone');
    const emailInput = document.getElementById('email');
    const addressInput = document.getElementById('address');
    const typeSelect = document.getElementById('type');
    const methodSelect = document.getElementById('method');
    const submitBtn = document.getElementById('submitBtn');
    let isSubmitting = false;

    const validateField = (input, helpId, validator) => {
      const value = input.value.trim();
      const group = input.parentElement;
      const help = document.getElementById(helpId);
      const isValid = validator(value);
      group.classList.remove('valid', 'error');
      group.classList.add(isValid ? 'valid' : 'error');
      help.textContent = isValid ? '' : 'Campo requerido.';
      return isValid;
    };

    const validators = {
      name: v => v.length >= 3,
      phone: v => /^\d{8}$/.test(v),
      email: v => /^[^\s@]+@gmail\.com$/.test(v),
      address: v => {
        const parts = v.split(',').map(p => p.trim());
        return parts.length >= 2 && parts[0].length > 0 && parts[1].length > 0;
      },
      select: v => !!v
    };

    nameInput.addEventListener('input', () => validateField(nameInput, 'nameHelp', validators.name));
    phoneInput.addEventListener('input', () => {
      phoneInput.value = phoneInput.value.replace(/\D/g, '').slice(0, 8);
      validateField(phoneInput, 'phoneHelp', validators.phone);
    });
    emailInput.addEventListener('input', () => validateField(emailInput, 'emailHelp', validators.email));
    addressInput.addEventListener('input', () => validateField(addressInput, 'addressHelp', validators.address));
    typeSelect.addEventListener('change', () => validateField(typeSelect, 'typeHelp', validators.select));
    methodSelect.addEventListener('change', () => validateField(methodSelect, 'methodHelp', validators.select));

    // Envío del formulario
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      if (isSubmitting) return;

      const formData = {
        name: nameInput.value.trim(),
        phone: '+53' + phoneInput.value.trim(),
        email: emailInput.value.trim(),
        address: addressInput.value.trim(),
        type: typeSelect.value,
        method: methodSelect.value
      };

      const isValid = ['name', 'phone', 'email', 'address', 'type', 'method']
        .every(key => validators[key](formData[key]));

      if (!isValid) {
        alert('Por favor, completa todos los campos.');
        return;
      }

      isSubmitting = true;
      submitBtn.disabled = true;
      submitBtn.textContent = 'Enviando...';

      setTimeout(() => {
        const price = priceSection.querySelector('.price-final').textContent;
        const message = `Hola KOOWEXA, quiero solicitar el servicio.\n\nNombre: ${formData.name}\nTeléfono: ${formData.phone}\nEmail: ${formData.email}\nDirección: ${formData.address}\nTipo: ${formData.type}\n\nPrecio: ${price}`;
        const url = formData.method === 'whatsapp' 
          ? `https://wa.me/5350369270?text=${encodeURIComponent(message)}`
          : `mailto:koowexa@gmail.com?subject=Solicitud - Sitio Web&body=${encodeURIComponent(message)}`;

        window.open(url, '_blank');
        
        // Notificación
        const toast = document.createElement('div');
        toast.id = 'toast';
        toast.textContent = `✅ Abriendo ${formData.method}...`;
        document.body.appendChild(toast);
        setTimeout(() => toast.remove(), 3000);

        form.reset();
        document.querySelectorAll('.form-group').forEach(el => el.classList.remove('valid', 'error'));
        submitBtn.disabled = false;
        submitBtn.textContent = 'Enviar Solicitud';
        isSubmitting = false;
        closeModal();
      }, 1500);
    });

    // Chatbot
    const chatbotBtn = document.getElementById('chatbotBtn');
    const chatbotContainer = document.getElementById('chatbotContainer');
    const chatbotClose = document.getElementById('chatbotClose');
    const chatbotMessages = document.getElementById('chatbotMessages');

    chatbotBtn.addEventListener('click', () => {
      chatbotContainer.style.display = chatbotContainer.style.display === 'flex' ? 'none' : 'flex';
    });
    chatbotClose.addEventListener('click', () => {
      chatbotContainer.style.display = 'none';
    });

    const botReply = (text) => {
      const msg = document.createElement('div');
      msg.className = 'chatbot-message bot';
      msg.textContent = text;
      chatbotMessages.appendChild(msg);
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    };

    document.querySelectorAll('.chatbot-question').forEach(btn => {
      btn.addEventListener('click', () => {
        const q = btn.getAttribute('data-q');
        let answer = 'Lo siento, no tengo una respuesta para eso ahora.';
        switch(q) {
          case 'precio': answer = 'El precio inicial es de $2000 CUP, con 10% de descuento por tiempo limitado.'; break;
          case 'entrega': answer = 'Entregamos tu web en 3-5 días hábiles tras confirmar el pago.'; break;
          case 'funciones': answer = 'Incluye diseño responsive, panel sencillo y soporte técnico.'; break;
        }
        const userMsg = document.createElement('div');
        userMsg.className = 'chatbot-message user';
        userMsg.textContent = btn.textContent;
        chatbotMessages.appendChild(userMsg);
        setTimeout(() => botReply(answer), 500);
      });
    });

    // Pantalla completa
    document.getElementById('toggleFullscreen').addEventListener('click', () => {
      if (!document.fullscreenElement) {
        modalElement.requestFullscreen();
        modalElement.classList.add('fullscreen');
      } else {
        document.exitFullscreen();
        modalElement.classList.remove('fullscreen');
      }
    });

    document.addEventListener('fullscreenchange', () => {
      if (!document.fullscreenElement && modalElement.classList.contains('fullscreen')) {
        modalElement.classList.remove('fullscreen');
      }
    });
  </script>
</body>
</html>